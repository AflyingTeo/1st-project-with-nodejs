extends ../layouts/common.pug

block content
    .mt-4.container
        h1 Product items 

        .grid
            .row.mt-5
                each product in products
                    .col.mt-4
                        .card(style='width: 18rem;')
                            img.card-img-top(src= product.product_image, alt='product.product_name')
                            .card-body
                                h5.card-title= product.product_name
                                p.card-text= product.product_description
                                a.btn.btn-primary(href='/cart/add/'+ product.id) Add To Cart
        
        nav.mt-4(aria-label='Page navigation example')
            ul.pagination.justify-content-end
                if currentPage < 2
                    li.page-item.disabled
                        a.page-link(href='/products/products-list?page=' + prevPage, tabindex='-1', aria-disabled='true') Previous
                        -var n = 1
                        while n <= pageLength
                            li.page-item
                                a.page-link(href='/products/products-list?page='+ n)= n++
                else 
                    li.page-item
                        a.page-link(href='/products/products-list?page=' + prevPage) Previous
                        
                        -for(var n= 1; n<= pageLength; n ++)
                                if n > 2 && n < 7 
                                    li.page-item
                                        a.page-link(href='/products/products-list?page='+ n) ...
                                else
                                    li.page-item
                                        a.page-link(href='/products/products-list?page='+ n)= n
                li.page-item
                    a.page-link(href='/products/products-list?page=' + nextPage) Next


                            

                                    
    
    //- a(href="/users") User Lists